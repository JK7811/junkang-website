<!DOCTYPE html>
<html lang="zh-Hans">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Jkang Arcade</title>

<style>
  :root{
    --bg:#050507;
    --text:#F6F7FB;
    --muted:#A7AAB5;
    --line:rgba(255,255,255,.12);
    --card:rgba(255,255,255,.05);
    --card2:rgba(255,255,255,.02);
    --radius:22px;
    --shadow: 0 26px 80px rgba(0,0,0,.55);
    --gold: rgba(255,215,130,.9);
    --violet: rgba(180,120,255,.9);
    --cyan: rgba(120,200,255,.9);
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Arial,sans-serif;
    background: var(--bg);
    color:var(--text);
    overflow-x:hidden;
  }
  a{color:inherit;text-decoration:none}

  /* ===== Loader ===== */
  .loader{
    position:fixed; inset:0;
    background:
      radial-gradient(900px 500px at 50% 0%, rgba(255,255,255,.10), transparent 60%),
      radial-gradient(700px 420px at 90% 80%, rgba(180,120,255,.14), transparent 60%),
      var(--bg);
    display:flex; align-items:center; justify-content:center;
    z-index:9999;
    transition: opacity .55s ease, transform .55s ease;
  }
  .loader.hide{opacity:0; transform:translateY(-6px); pointer-events:none}
  .loaderInner{ text-align:center; }
  .loaderTitle{
    font-weight:900; letter-spacing:.25em; text-transform:uppercase;
    font-size:12px; color:rgba(255,255,255,.75);
  }
  .loaderBar{
    width:min(420px, 78vw);
    height:10px; border-radius:999px;
    border:1px solid rgba(255,255,255,.14);
    background: rgba(255,255,255,.04);
    overflow:hidden;
    margin:14px auto 0;
  }
  .loaderFill{
    height:100%; width:0%;
    background: linear-gradient(90deg, rgba(255,255,255,.92), rgba(180,120,255,.55), rgba(120,200,255,.55));
    border-radius:999px;
    box-shadow: 0 0 30px rgba(255,255,255,.18);
    transition: width .25s ease;
  }
  .loaderHint{margin-top:10px; color:var(--muted); font-size:13px}

  /* ===== Animated background ===== */
  #particles{
    position:fixed; inset:0;
    width:100%; height:100%;
    z-index:-2;
  }
  .aurora{
    position:fixed; inset:-20vh -20vw;
    background:
      radial-gradient(800px 420px at 20% 30%, rgba(180,120,255,.16), transparent 60%),
      radial-gradient(900px 520px at 80% 70%, rgba(120,200,255,.15), transparent 60%),
      radial-gradient(700px 480px at 65% 20%, rgba(255,215,130,.10), transparent 60%);
    filter: blur(30px);
    opacity:.95;
    z-index:-3;
    animation: auroraMove 10s ease-in-out infinite alternate;
  }
  @keyframes auroraMove{
    from{transform:translate3d(0,0,0) scale(1)}
    to{transform:translate3d(2vw,-1.5vh,0) scale(1.04)}
  }
  .grain{
    position:fixed; inset:0;
    background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='180' height='180'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='180' height='180' filter='url(%23n)' opacity='.18'/%3E%3C/svg%3E");
    mix-blend-mode: overlay;
    opacity:.12;
    pointer-events:none;
    z-index:-1;
  }

  /* ===== Layout ===== */
  .wrap{max-width:1100px;margin:0 auto;padding:22px 16px 90px}
  .top{
    display:flex; justify-content:space-between; align-items:center;
    padding:12px 0; border-bottom:1px solid var(--line);
    position:sticky; top:0; z-index:20;
    backdrop-filter: blur(14px);
    background: linear-gradient(to bottom, rgba(5,5,7,.88), rgba(5,5,7,.35));
  }
  .brand{
    font-weight:900; letter-spacing:.25em; text-transform:uppercase;
    font-size:13px;
  }
  .nav{display:flex; gap:10px; align-items:center; color:var(--muted); font-size:13px}
  .nav a{
    padding:8px 10px; border-radius:999px; border:1px solid transparent;
    transition: .2s;
  }
  .nav a:hover{border-color:var(--line); color:var(--text); transform:translateY(-1px)}
  .dot{
    width:8px;height:8px;border-radius:50%;
    background:rgba(120,255,180,.9);
    box-shadow:0 0 18px rgba(120,255,180,.35);
  }

  .hero{
    text-align:center;
    padding:54px 0 26px;
  }
  .hero h1{
    margin:0;
    font-size:68px;
    letter-spacing:.04em;
    line-height:1.05;
    background: linear-gradient(90deg, rgba(255,255,255,.96), rgba(255,215,130,.85), rgba(180,120,255,.80), rgba(120,200,255,.75));
    -webkit-background-clip:text;
    -webkit-text-fill-color:transparent;
    animation: titleGlow 4.8s ease-in-out infinite;
  }
  @keyframes titleGlow{
    0%{filter:brightness(1)}
    50%{filter:brightness(1.25)}
    100%{filter:brightness(1)}
  }
  .hero p{
    margin:12px auto 0;
    color:var(--muted);
    max-width:820px;
    line-height:1.85;
  }

  .heroBanner{
    margin:18px auto 0;
    max-width:980px;
    border-radius: var(--radius);
    border:1px solid var(--line);
    overflow:hidden;
    box-shadow: var(--shadow);
    position:relative;
  }
  .heroBanner img{
    width:100%;
    display:block;
    transform: scale(1.02);
    filter: contrast(1.02) saturate(1.05);
    animation: slowZoom 8s ease-in-out infinite alternate;
  }
  @keyframes slowZoom{
    from{transform:scale(1.02)}
    to{transform:scale(1.07)}
  }
  .heroBanner::after{
    content:"";
    position:absolute; inset:-2px;
    background: linear-gradient(135deg, rgba(255,215,130,.22), rgba(180,120,255,.18), rgba(120,200,255,.14), rgba(255,255,255,0));
    opacity:.22; pointer-events:none;
  }

  .grid{
    display:grid;
    grid-template-columns:1fr;
    gap:18px;
    margin-top:26px;
  }
  @media(min-width:900px){
    .grid{grid-template-columns:1fr 1fr}
  }

  /* ===== 3D Cards + Flip ===== */
  .tilt{
    perspective: 1000px;
  }
  .card3d{
    position:relative;
    border-radius: var(--radius);
    border:1px solid var(--line);
    background: linear-gradient(to bottom, rgba(255,255,255,.06), rgba(255,255,255,.02));
    overflow:hidden;
    box-shadow: 0 24px 70px rgba(0,0,0,.45);
    transform-style:preserve-3d;
    transition: transform .15s ease, box-shadow .25s ease;
    will-change: transform;
  }
  .card3d:hover{
    box-shadow: 0 28px 90px rgba(180,120,255,.22);
  }
  .cardGlow{
    position:absolute; inset:-40%;
    background: radial-gradient(circle at var(--mx,50%) var(--my,50%), rgba(255,255,255,.22), transparent 55%);
    opacity:.0;
    transition: opacity .18s ease;
    pointer-events:none;
    mix-blend-mode: screen;
  }
  .card3d:hover .cardGlow{opacity:.75}

  .flip{
    position:relative;
    transform-style:preserve-3d;
    transition: transform .7s cubic-bezier(.2,.9,.2,1);
  }
  .card3d.is-flipped .flip{
    transform: rotateY(180deg);
  }
  .face{
    backface-visibility:hidden;
    transform-style:preserve-3d;
  }
  .back{
    position:absolute; inset:0;
    transform: rotateY(180deg);
    display:flex; flex-direction:column;
    justify-content:center;
    padding:22px;
    gap:10px;
  }

  .thumb{
    height:210px;
    border-bottom:1px solid rgba(255,255,255,.10);
    position:relative;
    overflow:hidden;
  }
  .thumb img{
    width:100%;
    height:100%;
    object-fit:cover;
    display:block;
    transform: scale(1.02);
    transition: transform .55s ease, filter .55s ease;
    filter: contrast(1.03) saturate(1.06);
  }
  .card3d:hover .thumb img{transform:scale(1.08)}
  .thumb::after{
    content:"";
    position:absolute; inset:-2px;
    background: linear-gradient(180deg, rgba(0,0,0,.10), rgba(0,0,0,.55));
    pointer-events:none;
  }
  .content{
    padding:18px 18px 20px;
  }
  .kicker{
    font-size:12px;
    color:rgba(255,255,255,.72);
    letter-spacing:.18em;
    text-transform:uppercase;
  }
  .content h2{
    margin:8px 0 8px;
    font-size:22px;
  }
  .content p{
    margin:0;
    color:var(--muted);
    font-size:14px;
    line-height:1.75;
  }

  .btnRow{
    display:flex;
    gap:10px;
    flex-wrap:wrap;
    margin-top:14px;
  }
  .btn{
    display:inline-flex; align-items:center; justify-content:center;
    padding:12px 16px;
    border-radius:14px;
    border:1px solid var(--line);
    background:rgba(255,255,255,.06);
    color:var(--text);
    font-weight:900;
    transition:.22s;
    cursor:pointer;
    user-select:none;
  }
  .btn:hover{transform:translateY(-1px); background:rgba(255,255,255,.10)}
  .btn.primary{
    background: rgba(255,255,255,.92);
    color:#000;
    border-color:transparent;
  }
  .btn.primary:hover{background:#fff}
  .btn.pulse{
    animation: pulse 1.9s ease-in-out infinite;
  }
  @keyframes pulse{
    0%{box-shadow: 0 0 0 0 rgba(255,255,255,.30)}
    70%{box-shadow: 0 0 0 16px rgba(255,255,255,0)}
    100%{box-shadow: 0 0 0 0 rgba(255,255,255,0)}
  }

  .meta{
    display:flex; gap:10px; flex-wrap:wrap; margin-top:12px;
  }
  .pill{
    padding:8px 10px;
    border-radius:999px;
    border:1px solid rgba(255,255,255,.12);
    background:rgba(255,255,255,.02);
    color:var(--muted);
    font-size:12px;
  }

  .section{
    margin-top:40px;
    border:1px solid var(--line);
    border-radius: var(--radius);
    background: rgba(255,255,255,.03);
    padding:16px 18px;
  }
  .sectionTitle{
    margin:0 0 8px;
    font-size:13px;
    letter-spacing:.18em;
    text-transform:uppercase;
    color:rgba(255,255,255,.82);
  }
  .sectionSub{margin:0; color:var(--muted); line-height:1.8; font-size:14px}

  footer{
    margin-top:42px;
    color:var(--muted);
    font-size:12px;
    text-align:center;
    opacity:.9;
  }

  /* Reduced motion support */
  @media (prefers-reduced-motion: reduce){
    .aurora, .heroBanner img, .btn.pulse, body{animation:none !important}
    .card3d, .flip{transition:none !important}
  }
</style>
</head>

<body>
  <!-- Loader -->
  <div class="loader" id="loader">
    <div class="loaderInner">
      <div class="loaderTitle">JKANG ARCADE</div>
      <div class="loaderBar"><div class="loaderFill" id="loaderFill"></div></div>
      <div class="loaderHint" id="loaderHint">Loading assetsâ€¦</div>
    </div>
  </div>

  <!-- Animated background -->
  <div class="aurora"></div>
  <canvas id="particles"></canvas>
  <div class="grain"></div>

  <div class="wrap">
    <div class="top">
      <div class="brand">JKANG ARCADE</div>
      <div class="nav">
        <span class="dot" title="Live"></span>
        <a href="index.html">Home</a>
        <a href="shop.html">Store</a>
        <a href="games.html">Mini Games</a>
      </div>
    </div>

    <section class="hero">
      <h1>Arcade</h1>
      <p>å›¾ç‰‡ + åŠ¨ç”» + 3D + ç²’å­èƒŒæ™¯å·²å¼€å¯ã€‚å¡ç‰‡æ”¯æŒï¼š<b style="color:var(--text)">ç§»åŠ¨é¼ æ ‡/æ‰‹æŒ‡æœ‰ 3D å€¾æ–œ</b>ï¼Œç‚¹ â€œMoreâ€ å¯ç¿»è½¬ã€‚</p>

      <!-- Hero banner (use your existing hero image) -->
      <div class="heroBanner">
        <img src="IMG_0621.png" alt="Arcade hero banner" />
      </div>
    </section>

    <!-- Game cards -->
    <div class="grid">

      <!-- Loot Box -->
      <div class="tilt">
        <div class="card3d" data-link="game-lootbox.html">
          <div class="cardGlow"></div>
          <div class="flip">
            <div class="face front">
              <div class="thumb">
                <img src="IMG_0622.png" alt="Loot Box cover" />
              </div>
              <div class="content">
                <div class="kicker">Dopamine Mode</div>
                <h2>ğŸ Loot Box</h2>
                <p>å¼€ç®± + ç¨€æœ‰åº¦ + ä¿åº•æœºåˆ¶ï¼ˆçº¯å¨±ä¹ï¼‰ã€‚éå¸¸ä¸Šå¤´ã€‚</p>
                <div class="meta">
                  <div class="pill">Pity System</div>
                  <div class="pill">Rarity FX</div>
                  <div class="pill">Local Save</div>
                </div>
                <div class="btnRow">
                  <a class="btn primary pulse" href="game-lootbox.html">Play</a>
                  <button class="btn" data-flip>More</button>
                </div>
              </div>
            </div>

            <div class="face back">
              <div class="kicker">How it hooks</div>
              <h2 style="margin:0">ğŸ Loot Box</h2>
              <p style="margin:0;color:var(--muted);line-height:1.75">
                è¿æŠ½ã€é—ªå…‰ã€ç¨€æœ‰åº¦ã€ä¿åº•ã€‚å…¨éƒ¨åœ¨ä½ æµè§ˆå™¨æœ¬åœ°è®°å½•ï¼ˆæ— çœŸé’±/æ— èµŒåšï¼‰ã€‚
              </p>
              <div class="btnRow">
                <a class="btn primary" href="game-lootbox.html">Start now</a>
                <button class="btn" data-unflip>Back</button>
              </div>
              <div class="meta">
                <div class="pill">Safe â€¢ Fun</div>
                <div class="pill">Fast</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Spin Wheel -->
      <div class="tilt">
        <div class="card3d" data-link="game-wheel.html">
          <div class="cardGlow"></div>
          <div class="flip">
            <div class="face front">
              <div class="thumb">
                <img src="IMG_0624.png" alt="Spin Wheel cover" />
              </div>
              <div class="content">
                <div class="kicker">Luck Engine</div>
                <h2>ğŸ¡ Spin Wheel</h2>
                <p>å¹¸è¿è½¬ç›˜æŠ½å¥–ï¼Œè¿æŠ½æ›´åˆºæ¿€ï¼Œè®°å½•æœ€ä½³ç»“æœã€‚</p>
                <div class="meta">
                  <div class="pill">Spin x5</div>
                  <div class="pill">Best Record</div>
                  <div class="pill">Smooth</div>
                </div>
                <div class="btnRow">
                  <a class="btn primary" href="game-wheel.html">Play</a>
                  <button class="btn" data-flip>More</button>
                </div>
              </div>
            </div>

            <div class="face back">
              <div class="kicker">Tip</div>
              <h2 style="margin:0">ğŸ¡ Spin Wheel</h2>
              <p style="margin:0;color:var(--muted);line-height:1.75">
                è¿™æ˜¯â€œæŠ½å¥–è§†è§‰â€ç©æ³•ï¼ˆçº¯å¨±ä¹ï¼‰ï¼Œé€‚åˆåšæµé‡å…¥å£ã€‚åç»­è¿˜èƒ½åŠ â€œæˆå°±ç³»ç»Ÿ/æ¯æ—¥ä»»åŠ¡â€æ›´é»äººã€‚
              </p>
              <div class="btnRow">
                <a class="btn primary" href="game-wheel.html">Spin now</a>
                <button class="btn" data-unflip>Back</button>
              </div>
              <div class="meta">
                <div class="pill">No money</div>
                <div class="pill">Just fun</div>
              </div>
            </div>
          </div>
        </div>
      </div>

<!-- 4 Number Draw -->
<div class="tilt">
  <div class="card3d" data-link="game-4d.html">
    <div class="cardGlow"></div>
    <div class="flip">
      <div class="face front">
        <div class="thumb">
          <img src="IMG_0624.png" alt="4 number draw cover" />
        </div>
        <div class="content">
          <div class="kicker">Random Engine</div>
          <h2>ğŸ° 4 Number Draw</h2>
          <p>æŠ½ 4 ä¸ªå·ç ï¼ˆçº¯å¨±ä¹ï¼‰+ åŠ¨ç”»æ»šåŠ¨ + å½©çº¸ç‰¹æ•ˆ + å†å²è®°å½•ã€‚</p>
          <div class="meta">
            <div class="pill">Lock digits</div>
            <div class="pill">Turbo</div>
            <div class="pill">Copy</div>
          </div>
          <div class="btnRow">
            <a class="btn primary pulse" href="game-4d.html">Play</a>
            <button class="btn" data-flip>More</button>
          </div>
        </div>
      </div>

      <div class="face back">
        <div class="kicker">Safe mode</div>
        <h2 style="margin:0">ğŸ° 4 Number Draw</h2>
        <p style="margin:0;color:var(--muted);line-height:1.75">
          çº¯å¨±ä¹éšæœºæŠ½å·ï¼Œä¸æ¶‰åŠä»»ä½•ä¸‹æ³¨/å¥–é‡‘/äº¤æ˜“ã€‚å¯é”å®šæŸä¸€ä½åšâ€œé€‰å·ç©æ³•â€ã€‚
        </p>
        <div class="btnRow">
          <a class="btn primary" href="game-4d.html">Start</a>
          <button class="btn" data-unflip>Back</button>
        </div>
      </div>
    </div>
  </div>
</div>

      <!-- Tap Rush -->
      <div class="tilt">
        <div class="card3d" data-link="game-tap.html">
          <div class="cardGlow"></div>
          <div class="flip">
            <div class="face front">
              <div class="thumb">
                <img src="IMG_0623.png" alt="Tap Rush cover" />
              </div>
              <div class="content">
                <div class="kicker">Reflex</div>
                <h2>âš¡ Tap Rush</h2>
                <p>10 ç§’ç‚¹å‡»æŒ‘æˆ˜ï¼Œä¸Šå¤´ä½†å¥åº·ã€‚å†²æ¦œç©æ³•ã€‚</p>
                <div class="meta">
                  <div class="pill">10s</div>
                  <div class="pill">Best Score</div>
                  <div class="pill">Mobile Ready</div>
                </div>
                <div class="btnRow">
                  <a class="btn primary" href="game-tap.html">Play</a>
                  <button class="btn" data-flip>More</button>
                </div>
              </div>
            </div>

            <div class="face back">
              <div class="kicker">Mechanic</div>
              <h2 style="margin:0">âš¡ Tap Rush</h2>
              <p style="margin:0;color:var(--muted);line-height:1.75">
                å¿«èŠ‚å¥ + çŸ­å‘¨æœŸåé¦ˆã€‚é€‚åˆåšâ€œæŒ‘æˆ˜åˆ†äº«â€å¼•æµã€‚
              </p>
              <div class="btnRow">
                <a class="btn primary" href="game-tap.html">Start</a>
                <button class="btn" data-unflip>Back</button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 2048 -->
      <div class="tilt">
        <div class="card3d" data-link="game-2048.html">
          <div class="cardGlow"></div>
          <div class="flip">
            <div class="face front">
              <div class="thumb">
                <img src="IMG_0622.png" alt="2048 cover" />
              </div>
              <div class="content">
                <div class="kicker">Classic</div>
                <h2>ğŸ§© 2048</h2>
                <p>ç»å…¸åˆå¹¶ç­–ç•¥ï¼Œè€ç©ã€‚é€‚åˆå¢åŠ åœç•™æ—¶é—´ã€‚</p>
                <div class="meta">
                  <div class="pill">Swipe</div>
                  <div class="pill">Score</div>
                  <div class="pill">Casual</div>
                </div>
                <div class="btnRow">
                  <a class="btn primary" href="game-2048.html">Play</a>
                  <button class="btn" data-flip>More</button>
                </div>
              </div>
            </div>

            <div class="face back">
              <div class="kicker">Why it matters</div>
              <h2 style="margin:0">ğŸ§© 2048</h2>
              <p style="margin:0;color:var(--muted);line-height:1.75">
                è¿™ç§â€œè€ç©å‹â€å°æ¸¸æˆèƒ½æå‡ç½‘ç«™åœç•™æ—¶é—´ï¼Œå¯¹æ•´ä½“è½¬åŒ–ä¹Ÿæœ‰å¸®åŠ©ã€‚
              </p>
              <div class="btnRow">
                <a class="btn primary" href="game-2048.html">Play</a>
                <button class="btn" data-unflip>Back</button>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>

    <div class="section">
      <div class="sectionTitle">Next upgrades</div>
      <p class="sectionSub">
        ä½ è¦â€œæ›´ä¸Šå¤´â€æˆ‘è¿˜èƒ½ç»§ç»­åŠ ï¼šæ¯æ—¥ç­¾åˆ° / ä»»åŠ¡ / æˆå°± / è¿æŠ½åŠ é€Ÿ / åˆ†äº«æµ·æŠ¥ / ä»¥åŠã€ŒæŠ½åˆ°ä¼ è¯´å¼¹å‡ºå»å•†åº—ã€çš„è½¬åŒ–è”åŠ¨ã€‚
      </p>
    </div>

    <footer>Â© <span id="y"></span> Jkang Arcade</footer>
  </div>

<script>
  // ===== Footer year
  document.getElementById("y").textContent = new Date().getFullYear();

  // ===== Loader progress simulation (and wait for images)
  const loader = document.getElementById("loader");
  const fill = document.getElementById("loaderFill");
  const hint = document.getElementById("loaderHint");

  const imgs = Array.from(document.images || []);
  let loaded = 0;
  const total = Math.max(1, imgs.length);

  function setProgress(p){
    fill.style.width = Math.max(0, Math.min(100, p)) + "%";
  }

  function done(){
    setProgress(100);
    hint.textContent = "Ready.";
    setTimeout(()=>loader.classList.add("hide"), 300);
    setTimeout(()=>loader.remove(), 900);
  }

  // If no images, finish quickly
  if(total === 0) done();
  else {
    setProgress(8);
    imgs.forEach(img=>{
      if(img.complete) {
        loaded++;
        setProgress(8 + (loaded/total)*92);
        if(loaded>=total) done();
      } else {
        img.addEventListener("load", ()=>{
          loaded++;
          setProgress(8 + (loaded/total)*92);
          if(loaded>=total) done();
        });
        img.addEventListener("error", ()=>{
          loaded++;
          setProgress(8 + (loaded/total)*92);
          if(loaded>=total) done();
        });
      }
    });

    // Failsafe
    setTimeout(()=>{ if(document.getElementById("loader")) done(); }, 2500);
  }

  // ===== Card flip (More / Back)
  document.querySelectorAll("[data-flip]").forEach(btn=>{
    btn.addEventListener("click", (e)=>{
      e.preventDefault(); e.stopPropagation();
      const card = btn.closest(".card3d");
      if(card) card.classList.add("is-flipped");
    });
  });
  document.querySelectorAll("[data-unflip]").forEach(btn=>{
    btn.addEventListener("click", (e)=>{
      e.preventDefault(); e.stopPropagation();
      const card = btn.closest(".card3d");
      if(card) card.classList.remove("is-flipped");
    });
  });

  // ===== 3D tilt + glow tracking
  const maxTilt = 10; // deg
  document.querySelectorAll(".tilt .card3d").forEach(card=>{
    const onMove = (clientX, clientY)=>{
      const r = card.getBoundingClientRect();
      const x = (clientX - r.left) / r.width;
      const y = (clientY - r.top) / r.height;
      const rotY = (x - 0.5) * maxTilt * 2;
      const rotX = -(y - 0.5) * maxTilt * 2;

      card.style.transform = `rotateX(${rotX}deg) rotateY(${rotY}deg) translateY(-2px)`;
      card.style.setProperty("--mx", (x*100).toFixed(2)+"%");
      card.style.setProperty("--my", (y*100).toFixed(2)+"%");
    };

    card.addEventListener("mousemove", (e)=> onMove(e.clientX, e.clientY));
    card.addEventListener("mouseleave", ()=>{
      card.style.transform = "";
      card.style.setProperty("--mx","50%");
      card.style.setProperty("--my","50%");
    });

    // Touch tilt (simple)
    card.addEventListener("touchmove", (e)=>{
      const t = e.touches[0];
      if(!t) return;
      onMove(t.clientX, t.clientY);
    }, {passive:true});
    card.addEventListener("touchend", ()=>{
      card.style.transform = "";
      card.style.setProperty("--mx","50%");
      card.style.setProperty("--my","50%");
    });

    // Click anywhere on card to open game (front side only)
    card.addEventListener("click", (e)=>{
      // ignore if clicking buttons/links
      const target = e.target;
      if(target.closest("a") || target.closest("button")) return;
      if(card.classList.contains("is-flipped")) return;
      const link = card.getAttribute("data-link");
      if(link) window.location.href = link;
    });
  });

  // ===== Particle background
  const canvas = document.getElementById("particles");
  const ctx = canvas.getContext("2d");
  let w=0,h=0,dpr=1;
  function resize(){
    dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
    w = canvas.width = Math.floor(window.innerWidth * dpr);
    h = canvas.height = Math.floor(window.innerHeight * dpr);
    canvas.style.width = window.innerWidth + "px";
    canvas.style.height = window.innerHeight + "px";
  }
  window.addEventListener("resize", resize);
  resize();

  const particles = [];
  const COUNT = Math.floor(Math.min(140, Math.max(70, window.innerWidth/10)));
  function rand(min,max){ return min + Math.random()*(max-min); }

  for(let i=0;i<COUNT;i++){
    particles.push({
      x: rand(0,w), y: rand(0,h),
      vx: rand(-0.18,0.18), vy: rand(-0.12,0.12),
      r: rand(0.9, 2.4) * dpr,
      a: rand(0.10, 0.35),
      hue: Math.random()<0.34 ? 45 : (Math.random()<0.5 ? 270 : 200) // gold/violet/cyan vibe
    });
  }

  function step(){
    ctx.clearRect(0,0,w,h);

    // draw links
    for(let i=0;i<particles.length;i++){
      const p = particles[i];
      p.x += p.vx * dpr;
      p.y += p.vy * dpr;

      if(p.x < -40) p.x = w+40;
      if(p.x > w+40) p.x = -40;
      if(p.y < -40) p.y = h+40;
      if(p.y > h+40) p.y = -40;

      // point
      ctx.beginPath();
      ctx.fillStyle = `hsla(${p.hue}, 90%, 70%, ${p.a})`;
      ctx.arc(p.x, p.y, p.r, 0, Math.PI*2);
      ctx.fill();

      // connections
      for(let j=i+1;j<particles.length;j++){
        const q = particles[j];
        const dx = p.x - q.x;
        const dy = p.y - q.y;
        const dist = Math.sqrt(dx*dx + dy*dy);
        const max = 140 * dpr;
        if(dist < max){
          const alpha = (1 - dist/max) * 0.08;
          ctx.strokeStyle = `rgba(255,255,255,${alpha})`;
          ctx.lineWidth = 1 * dpr;
          ctx.beginPath();
          ctx.moveTo(p.x, p.y);
          ctx.lineTo(q.x, q.y);
          ctx.stroke();
        }
      }
    }

    requestAnimationFrame(step);
  }
  step();
</script>
</body>
</html>
